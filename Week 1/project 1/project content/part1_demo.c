#include <stdio.h>
#include <windows.h>

struct address {
	char street1[20]; // +0
	char zip[20];	  // +0x4
	char state[20];   // +0x18
};

struct college {
	int id;			// +0
	char name[40];	// +0x4
	struct address address_info; // + 0x2C
};

struct personal {
	int id;
	char name[20];
	int age;
	char gender;
};

struct student {
	int id;						// +0x0
	char fname[20];			    // +0x4
	char lname[20];				// +0x18
	struct college college_info;// +0x2C
	struct personal personal_info; // +0x?? What is the size of the COLLEGE struct?
};

int main(int argc, char argv[], char envp[]) {

	char*school_name = NULL;

	struct student student1 = { 1, "first", "last", 1337, "dakota state university", "street", "zip", "SD", 1,"student name", 20,'f'};

	printf("[*] Student Name: %s\n", student1.personal_info.name);

	_asm {
		lea eax, student1
		lea eax, [eax + 0x30]
		mov school_name, eax
	}

	printf("[*] School name: %s\n", school_name);
}