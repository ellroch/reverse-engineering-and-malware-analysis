CC			:=	gcc
FLAGS		:= -m32 -fno-stack-protector -fno-pic -no-pie -Ttext=08040000 -z execstack -mno-red-zone
FOBJ		:= -c
EXEC		:= exec/
OBJ			:= object/

.PHONY: executable clean all

all: executable

clean:
	rm -rf $(EXEC)

executable: setup bin1 bin2 bin3 bin4

setup:
	mkdir -p $(EXEC)

bin1: $(OBJ)bin1.o
	$(CC) $(FLAGS) -o $(EXEC)$@ $^

bin2: $(OBJ)bin2.o
	$(CC) $(FLAGS) -o $(EXEC)$@ $^

bin3: $(OBJ)bin3.o
	$(CC) $(FLAGS) -o $(EXEC)$@ $^

bin4: $(OBJ)bin4.o
	$(CC) $(FLAGS) -o $(EXEC)$@ $^
